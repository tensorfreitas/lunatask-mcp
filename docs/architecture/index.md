# LunaTask MCP Server Architecture Document

## Table of Contents

- [LunaTask MCP Server Architecture Document](#table-of-contents)
  - [1. Introduction](./1-introduction.md)
    - [Starter Template or Existing Project](./1-introduction.md#starter-template-or-existing-project)
  - [2. High Level Architecture](./2-high-level-architecture.md)
    - [Technical Summary](./2-high-level-architecture.md#technical-summary)
    - [High Level Overview](./2-high-level-architecture.md#high-level-overview)
    - [Protocol Versioning](./2-high-level-architecture.md#protocol-versioning)
    - [High Level Project Diagram](./2-high-level-architecture.md#high-level-project-diagram)
    - [Architectural and Design Patterns](./2-high-level-architecture.md#architectural-and-design-patterns)
  - [3. Tech Stack](./3-tech-stack.md)
    - [Cloud Infrastructure](./3-tech-stack.md#cloud-infrastructure)
    - [Technology Stack Table](./3-tech-stack.md#technology-stack-table)
  - [4. Data Models](./4-data-models.md)
    - [Task Models](./4-data-models.md#task-models)
      - [Source (Nested Response Model)](./4-data-models.md#source-nested-response-model)
      - [TaskResponse (Response Model)](./4-data-models.md#taskresponse-response-model)
      - [TaskCreate (Request Model)](./4-data-models.md#taskcreate-request-model)
      - [TaskUpdate (Request Model)](./4-data-models.md#taskupdate-request-model)
    - [Habit Models](./4-data-models.md#habit-models)
  - [5. Components](./5-components.md)
    - [1. LunaTaskClient (Service Component)](./5-components.md#1-lunataskclient-service-component)
    - [2. TaskTools (MCP Interface Component)](./5-components.md#2-tasktools-mcp-interface-component)
    - [3. HabitTools (MCP Interface Component)](./5-components.md#3-habittools-mcp-interface-component)
    - [4. CoreServer (Application Runner)](./5-components.md#4-coreserver-application-runner)
  - [6. External APIs](./6-external-apis.md)
    - [LunaTask API](./6-external-apis.md#lunatask-api)
  - [7. Core Workflows](./7-core-workflows.md)
  - [8. Source Tree](./8-source-tree.md)
  - [9. Infrastructure and Deployment](./9-infrastructure-and-deployment.md)
    - [Infrastructure as Code](./9-infrastructure-and-deployment.md#infrastructure-as-code)
    - [Deployment Strategy](./9-infrastructure-and-deployment.md#deployment-strategy)
    - [Environments](./9-infrastructure-and-deployment.md#environments)
    - [Rollback Strategy](./9-infrastructure-and-deployment.md#rollback-strategy)
  - [10. Error Handling Strategy](./10-error-handling-strategy.md)
    - [General Approach](./10-error-handling-strategy.md#general-approach)
    - [Logging Standards](./10-error-handling-strategy.md#logging-standards)
    - [Error Handling Patterns](./10-error-handling-strategy.md#error-handling-patterns)
      - [Custom Exception Definitions](./10-error-handling-strategy.md#custom-exception-definitions)
      - [External API Error Handling](./10-error-handling-strategy.md#external-api-error-handling)
      - [Business Logic & MCP Tool Errors](./10-error-handling-strategy.md#business-logic--mcp-tool-errors)
  - [11. Coding Standards](./11-coding-standards.md)
    - [Design Principles](./11-coding-standards.md#design-principles)
    - [Core Standards](./11-coding-standards.md#core-standards)
    - [Code Structure & Modularity](./11-coding-standards.md#code-structure-modularity)
    - [Naming Conventions](./11-coding-standards.md#naming-conventions)
    - [Testing Strategy](./11-coding-standards.md#testing-strategy)
    - [Critical Rules for AI Agents](./11-coding-standards.md#critical-rules-for-ai-agents)
    - [Development Workflow](./11-coding-standards.md#development-workflow)
